"use strict";angular.module("Robin",["ngAnimate","Ringo"]);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};angular.module("Robin").service("RobinUI",function(){var n={};return n.defaults={radius:5,speed:.5,duration:3,iconSize:60,fontWeight:300,border:"none",color:"black",accent:"cyan",background:"white",defaultIcon:"comment-o",overlay:"rgba(0, 0, 0, 0.8)",shadow:"0px 0px 10px rgba(0, 0, 0, 0.15)"},n.themes={dark:{background:"transparent",overlay:"rgba(0, 0, 0, 0.92)",color:"white",border:"none",shadow:!1},light:{background:"transparent",overlay:"rgba(255, 255, 255, 0.9)",color:"black",border:"none",shadow:!1},inverted:{color:"white",background:"black",overlay:"rgba(255, 255, 255, 0.9)"},pro:{radius:3,shadow:"none",color:"white",overlay:"rgba(0, 0, 0, 0.9)",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255,255,255,0.2)"},card:{radius:10,color:"black",border:"none",background:"white",overlay:"transparent",shadow:"0px 0px 20px rgba(0, 0, 0, 0.2)"},plaque:{radius:2,color:"white",background:"rgba(0, 0, 0, 0.9)",overlay:"transparent",shadow:"0px 0px 20px rgba(0, 0, 0, 0.2)"}},n.settings=angular.copy(n.defaults),n.removeExistingStyle=function(){var n=document.getElementById("robinStyle");n&&n.remove()},n.replaceStyle=function(){n.removeExistingStyle();var e=n.robinCss(n.settings),o='<style id="robinStyle">'+e+"</style>";angular.element(document).find("head").append(o)},n.applySettings=function(e){if(e&&"object"==("undefined"==typeof e?"undefined":_typeof(e)))for(var o in n.defaults)o&&o in e&&(n.settings[o]=e[o])},n.initialize=function(e){e&&n.applySettings(e),n.replaceStyle()},n.numberize=function(n){return n===n+0?n:parseInt(n.toLowerCase().replace("px","").trim())},n.robinCss=function(e){return e.iconSize=n.numberize(e.iconSize),e.radius=n.numberize(e.radius),"\n    robin modal-wrapper {\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      display: flex;\n      position: fixed;\n      align-items: center;\n      justify-content: center;\n      background-color: "+(e.overlay||"transparent")+";\n    }\n\n    robin modal {\n      padding: 30px;\n      flex-basis: 300px;\n      text-align: center;\n      color: "+e.color+";\n      border: "+e.border+";\n      background: "+e.background+";\n      border-radius: "+e.radius+"px;\n      box-shadow: "+(e.shadow||"none")+";\n    }\n\n    robin input {\n      width: 100%;\n      margin: 10px auto 20px;\n      padding: 10px;\n      border-radius: 0;\n      border: none;\n      border-bottom: 1px solid "+e.color+";\n      background: transparent;\n      color: "+e.color+";\n    }\n\n    robin button {\n      color: "+e.color+";\n    }\n\n    robin .robin-icon {\n      font-size: "+e.iconSize+"px;\n    }\n\n    robin modal-wrapper,\n    robin modal-wrapper.ng-enter.ng-enter-active {\n      transition: "+e.speed+"s ease-in-out all;\n      opacity: 1;\n    }\n\n    robin modal-wrapper.ng-enter,\n    robin modal-wrapper.ng-leave.ng-leave-active {\n      opacity: 0;\n    }\n    "},n});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};angular.module("Robin").service("Robin",["$timeout","$rootScope","$sce","$q","RobinUI",function(n,e,o,i,r){var t=function(n){return"fa fa-"+n},a={is:{alerting:!1,confirming:!1,prompting:!1,loading:!1,hidden:!0},live:{kind:null,text:null,promise:null,icon:null,answer:null},load:function(){for(var n=arguments.length,e=Array(n),o=0;o<n;o++)e[o]=arguments[o];e.forEach(function(n){"object"==("undefined"==typeof n?"undefined":_typeof(n))&&Object.keys(a.live).forEach(function(e){e in n&&(a.live[e]=n[e])}),"string"==typeof n&&(a.live.text=n)})},hold:!1,destruct:!1,themes:r.themes,settings:r.settings,initialize:r.initialize,trust:o.trustAsHtml,fa:function(n){return"fa fa-"+n}};return a.mode=function(n){for(var e in a.is)a.is[e]=e===n},a.defuse=function(){a.destruct&&n.cancel(a.destruct),a.destruct=!1},a.alert=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.mode("alerting"),a.load(e,o),a.defuse(),a.destruct=!!r.settings.duration&&n(a.exit,1e3*r.settings.duration)},a.notify=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.mode("alerting"),a.load(n,e),a.defuse(),a.hold=!0},a.confirm=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.mode("confirming"),a.load(n,e),a.hold=!0,a.defuse(),a.promise=i.defer(),a.promise.promise},a.prompt=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.mode("prompting"),a.load(n,e),a.hold=!0,a.defuse(),a.promise=i.defer(),a.promise.promise},a.affirm=function(n){a.promise.resolve(n),a.hold=!1,a.exit()},a.deny=function(){a.promise.reject(),a.hold=!1,a.exit()},a.continue=function(){return a.is.confirming||a.is.notifying?a.affirm(!0):!(!a.is.prompting||null===a.live.answer)&&a.affirm(a.live.answer)},a.handleEnter=function(n){a.continue()},a.handleEscape=function(n){a.hold&&a.deny(),a.exit()},a.clear=function(){for(var n in a.live)a.live[n]=null},a.exit=function(){a.hold||(a.defuse(),a.mode("hidden"),a.clear())},a.clickClosed=function(n){$(n.target).find("modal").length&&a.exit()},a.loading=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n!==!1?("string"==typeof n&&(a.live.text=n),a.mode("loading")):a.exit()},a.getIcon=function(){if(a.live.icon)return t(a.live.icon);switch(a.live.kind){case"warning":case"warn":return t("exclamation-circle");case"question":return t("question-circle");default:return t(r.settings.defaultIcon)}},a}]),angular.module("Robin").directive("robin",["Robin",function(n){return{restrict:"E",scope:!1,controller:function(n,e){return n.robin=e},link:function(e,o,i){angular.element(o).on("keyup",function(n){13===n.keyCode&&e.robin.handleEnter(n),27===n.keyCode&&e.robin.handleEscape(n)}),n.initialize()},template:'<modal-wrapper ng-if="!robin.is.hidden || robin.is.loading" ng-click="robin.clickClosed($event)">\n      <modal ng-if="!robin.is.hidden">\n        <ringo ng-if="robin.is.loading" ring-size="{{robin.settings.iconSize * 2}}" ring-thickness="2" ring-color="{{robin.settings.color}}"></ringo>\n        <span class="robin-icon" ng-hide="robin.is.loading" ng-class="robin.getIcon()"></span>\n        <p ng-if="robin.live.text" ng-bind-html="robin.trust(robin.live.text)"></p>\n        <input ng-if="robin.is.prompting" ng-model="robin.live.answer" autofocus="true" />\n        <div ng-if="robin.is.confirming || robin.is.prompting">\n          <button ng-click="robin.deny()">Nah</button>\n          <button ng-click="robin.affirm()">Yea</button>\n        </div>\n      </modal>\n    </modal-wrapper>'}}]);