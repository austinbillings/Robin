"use strict";angular.module("Robin",["ngAnimate","Ringo"]);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};angular.module("Robin").service("RobinUI",function(){var n={};return n.defaults={radius:5,speed:.5,duration:3,iconSize:60,fontWeight:300,border:"none",color:"black",background:"white",defaultIcon:"comment-o",overlay:"rgba(0, 0, 0, 0.8)",shadow:"0px 0px 10px rgba(0, 0, 0, 0.15)"},n.themes={dark:{background:"transparent",overlay:"rgba(0, 0, 0, 0.9)",color:"white",border:"none",shadow:!1},light:{background:"transparent",overlay:"rgba(255, 255, 255, 0.9)",color:"black",border:"none",shadow:!1},inverted:{background:"black",color:"white",overlay:"rgba(255, 255, 255, 0.9)"},pro:{background:"transparent",color:"white",border:"1px solid rgba(255,255,255,0.2)",overlay:"rgba(0, 0, 0, 0.95)",radius:0},card:{background:"white",color:"black",border:"none",overlay:"transparent",radius:10,shadow:"0px 0px 20px rgba(0, 0, 0, 0.2)"}},n.settings=angular.copy(n.defaults),n.removeExistingStyle=function(){var n=document.getElementById("robinStyle");n&&n.remove()},n.replaceStyle=function(){n.removeExistingStyle();var e=n.robinCss(n.settings),o='<style id="robinStyle">'+e+"</style>";angular.element(document).find("head").append(o)},n.applySettings=function(e){e&&"object"==("undefined"==typeof e?"undefined":_typeof(e))&&Object.keys(n.defaults).forEach(function(o){e.hasOwnProperty(o)&&(n.settings[o]=e[o])})},n.initialize=function(e){e&&n.applySettings(e),n.replaceStyle()},n.numberize=function(n){return n===n+0?n:parseInt(n.toLowerCase().replace("px","").trim())},n.robinCss=function(e){return e.iconSize=n.numberize(e.iconSize),e.radius=n.numberize(e.radius),"\n    robin modal-wrapper {\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      display: flex;\n      position: fixed;\n      align-items: center;\n      justify-content: center;\n      background-color: "+(e.overlay||"transparent")+";\n    }\n    robin modal {\n      padding: 30px;\n      flex-basis: 300px;\n      text-align: center;\n      color: "+e.color+";\n      border: "+e.border+";\n      background: "+e.background+";\n      border-radius: "+e.radius+"px;\n      box-shadow: "+(e.shadow||"none")+";\n    }\n    robin .robin-icon {\n      color: "+(e.iconColor||e.color)+";\n      font-size: "+e.iconSize+"px;\n      margin-bottom: 15px;\n    }\n    robin button {\n      color: "+e.color+";\n    }\n    robin modal-wrapper {\n      transition: "+e.speed+"s ease-in-out all;\n    }\n    robin modal-wrapper {\n      transition: "+e.speed+"s ease-in-out all;\n      opacity: 1;\n    }\n    robin modal-wrapper.ng-enter, robin modal-wrapper.ng-leave.ng-leave-active {\n      opacity: 0;\n    }\n    robin modal-wrapper.ng-enter.ng-enter-active {\n      opacity: 1;\n    }"},n}),angular.module("Robin").service("Robin",["$timeout","$rootScope","$sce","$q","RobinUI",function(n,e,o,i,r){var t=function(n){return"fa fa-"+n},a={is:{alerting:!1,confirming:!1,prompting:!1,loading:!1,hidden:!0},live:{kind:null,text:null,promise:null},hold:!1,destruct:!1,themes:r.themes,initialize:r.initialize,trust:o.trustAsHtml,fa:function(n){return"fa fa-"+n}};return console.log("themes",r.themes),a.mode=function(n){Object.keys(a.is).forEach(function(e){a.is[e]=n===e})},a.defuse=function(){a.destruct&&n.cancel(a.destruct),a.destruct=!1},a.alert=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.mode("alerting"),a.live.text=e,o.kind&&(a.live.kind=o.kind),o.icon&&(a.live.icon=o.icon),a.defuse(),a.destruct=!!r.settings.duration&&n(a.exit,1e3*r.settings.duration)},a.confirm=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.mode("confirming"),a.live.text=n,e.kind&&(a.live.kind=e.kind),e.icon&&(a.live.icon=e.icon),a.hold=!0,a.defuse(),a.promise=i.defer(),a.promise.promise},a.affirm=function(n){a.promise.resolve(n),a.hold=!1,a.exit()},a.deny=function(){a.promise.reject(),a.hold=!1,a.exit()},a.clear=function(){Object.keys(a.live).forEach(function(n){a.live[n]=null})},a.exit=function(){a.hold||(a.defuse(),a.mode("hidden"),a.clear())},a.clickClosed=function(n){$(n.target).find("modal").length&&a.exit()},a.loading=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n?a.mode("loading"):a.exit()},a.getIcon=function(){if(a.live.icon)return t(a.live.icon);switch(a.live.kind){case"warning":case"warn":return t("exclamation-circle");case"question":return t("question-circle");default:return t(r.settings.defaultIcon)}},a}]),angular.module("Robin").directive("robin",["Robin",function(n){return{restrict:"E",controller:function(n,e){return n.robin=e},link:function(e,o,i){return n.initialize()},template:'<modal-wrapper ng-if="!robin.is.hidden" ng-click="robin.clickClosed($event)">\n      <modal ng-if="!robin.is.hidden">\n        <ringo ng-if="robin.is.loading"></ringo>\n        <span class="robin-icon" ng-hide="robin.is.loading" ng-class="robin.getIcon()"></span>\n        <p ng-if="robin.live.text" ng-bind-html="robin.trust(robin.live.text)"></p>\n        <div ng-if="robin.is.confirming">\n          <button ng-click="robin.deny()">Nah</button>\n          <button ng-click="robin.affirm()">Yea</button>\n        </div>\n      </modal>\n    </modal-wrapper>'}}]);